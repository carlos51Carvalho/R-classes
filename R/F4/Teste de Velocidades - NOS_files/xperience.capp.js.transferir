var XperienceCAPP;XperienceCAPP=function(O3L,g3L,f3L,b3L,E3L,V3L,I3L){this.idCanvas=g3L;this.idCappCanvas=f3L;this.idFrame=b3L;this.portal=E3L;this.identifierValue=V3L;config={"application_type":"CApp","XDEC":"156404847045","XCHARSET":"ISO-8859-15","-C":"","layout":"zon_java"};this.user={setup:config||{},request:config||{},test:config||{},results:{},ajax:{},valid:!!"",current:{diagnosing:![],section:!"1",attempt:0,progress:-("1"*1)},timer:{test:"0">>29121248,timeout:0,alert:+"0",download:"0"&2147483647,frequence:"10000"-0,transition:+"600",javaErr:+"0"}};this.user.setup=I3L.setup;this.user.request=I3L.request;this.user.proxy=I3L.proxy;this.labels=I3L.labels;this.labelController=O3L;O3L.setLabelValue("download","---");O3L.setLabelValue("upload","---");O3L.setLabelValue("ping","---");O3L.setLabelValue("jitter","---");$("p#setup").css("display","block");$("p#running").css("display","none");};XperienceCAPP.prototype.status=function(){jQuery.ajax({dataType:'json',url:'/qoe/solution/'+this.portal+'?getStatus',data:{format:'json',XENC:Number(new Date()),portal:this.user.test.portal,test_id:this.user.test.test_id,scenario_name:this.user.test.scenario_name},complete:jQuery.proxy(function(p3L){var J3L;J3L=p3L.responseJSON||p3L.responseText;this.user.ajax=J3L;if(J3L.error)setTimeout(jQuery.proxy(function(){$(".desktop #scanvas_button")["0"<<1434580480].disabled=![];$(".desktop #printButton")["0"|0].disabled=![];$(".desktop #cappButton")[+"0"].disabled=![];$(".capp #printButton")[+"0"].disabled=![];$(".capp #cappButton")[+"0"].disabled=!"1";$(".mobile #scanvas_button")[+"0"].disabled=!"1";$(".mobile #printButton")["0"<<1645442432].disabled=!{};},this),this.user.timer.transition);this.progress(J3L.data.test_progress,J3L.data.test_state);if(J3L.data.test_progress<100){clearTimeout(this.user.timer.test);this.user.timer.test=setTimeout(jQuery.proxy(this.status,this),this.user.timer.frequence);}},this)});};XperienceCAPP.prototype.download=function(){var k8L;k8L='/qoe/solution/'+this.portal+'?getDiagnosis&'+jQuery.param({tkn:this.user.test.code_c_application,proxy_portal:this.user.request.Portal,XENC:Number(new Date())});clearTimeout(this.user.timer.download);jQuery(this.idFrame).attr('src',k8L);};XperienceCAPP.prototype.diagnosis=function(){$(this.idCanvas).css("display","none");$(this.idCappCanvas).css("display","block");jQuery.ajax({dataType:'json',url:'/qoe/solution/'+this.user.request.Portal+'?getDiagnosis',data:jQuery.extend(this.user.request,{IdentifierValue:this.identifierValue,format:'json',XENC:Number(new Date())}),error:jQuery.proxy(function(){$(".desktop #scanvas_button")[+"0"].disabled=!{};$(".desktop #printButton")[0].disabled=!1;$(".desktop #cappButton")[+"0"].disabled=![];$(".capp #printButton")["0">>552391520].disabled=!"1";$(".capp #cappButton")[0].disabled=![];$(".mobile #scanvas_button")[+"0"].disabled=!!0;$(".mobile #printButton")[0].disabled=!{};},this),success:jQuery.proxy(function(N8L){this.user.test=N8L.data;this.user.timer.download=setTimeout(jQuery.proxy(function(){this.download();},this),+"1000");this.status();},this)});};XperienceCAPP.prototype.progress=function(q8L,R8L){if(q8L==0){$("p#setup").css("display","block");$("p#running").css("display","none");jQuery('.app-progress .progress').addClass('active');jQuery('.app-progress .progress-bar').removeClass('progress-bar-success progress-bar-warning progress-bar-danger');}else if(q8L>+"0"&&q8L<+"100"){$("p#setup").css("display","none");$("p#running").css("display","block");if(q8L!=this.user.current.progress){clearTimeout(this.user.timer.timeout);this.user.timer.timeout=setTimeout(jQuery.proxy(function(){if(this.user.current.progress<("100"|68))this.abort();},this),this.user.test.ott_timeout*+"60"*("1000"|104));}}else{clearTimeout(this.user.timer.test);clearTimeout(this.user.timer.timeout);jQuery('.app-progress .progress').removeClass('active');this.results();}this.user.current.progress=q8L;jQuery('.app-progress .app-progress-title').text(R8L);jQuery('.app-progress .app-progress-bar').stop().css({width:this.user.current.progress+'%'});jQuery('.app-progress .app-progress-bar .sr-only').text(this.user.current.progress+'%');};XperienceCAPP.prototype.abort=function(){clearTimeout(this.user.timer.test);clearTimeout(this.user.timer.timeout);jQuery.ajax({async:![],url:'/qoe/OTT/testState',data:jQuery.extend(this.user.request,{format:'json',XENC:Number(new Date()),action:'close_window',customer_id:this.user.test.customer_id,errorCode:"24"<<1409258848})});$(".desktop #scanvas_button")[+"0"].disabled=!"1";$(".desktop #printButton")["0"<<1223878560].disabled=!"1";$(".desktop #cappButton")["0"*1].disabled=!{};$(".capp #printButton")[+"0"].disabled=![];$(".capp #cappButton")["0"*1].disabled=![];$(".mobile #scanvas_button")["0"|0].disabled=![];$(".mobile #printButton")[+"0"].disabled=!1;};XperienceCAPP.prototype.results=function(){jQuery.ajax({dataType:'json',url:'/qoe/solution/'+this.portal+'?getResults',data:{format:'json',XENC:Number(new Date()),portal:this.user.test.portal||this.user.setup.portal,test_id:this.user.test.test_id,scenario_name:this.user.test.scenario_name,event_scenario_name:this.user.setup.event_scenario_name,java_jre:this.user.request.javaVersion,proxy_portal:this.user.proxy.portal},error:jQuery.proxy(function(){$(".desktop #scanvas_button")[+"0"].disabled=![];$(".desktop #printButton")[+"0"].disabled=![];$(".desktop #cappButton")["0"-0].disabled=!{};$(".capp #printButton")[+"0"].disabled=!{};$(".capp #cappButton")[0].disabled=!{};$(".mobile #scanvas_button")[+"0"].disabled=!!"";$(".mobile #printButton")["0">>846945824].disabled=!"1";},this),success:jQuery.proxy(function(S8L){var D8L;D8L='';this.user.ajax=S8L;if(!S8L.error){this.user.results=S8L.data;this.labelController.setLabelValue("download",this.user.results.max_dw_line_interface_throughput_unit=="Mbps"?this.user.results.max_dw_line_interface_throughput:parseFloat(this.user.results.max_dw_line_interface_throughput)/+"1000");this.labelController.setLabelValue("upload",this.user.results.max_up_line_interface_throughput_unit=="Mbps"?this.user.results.max_up_line_interface_throughput:parseFloat(this.user.results.max_up_line_interface_throughput)/("1000"^0));this.labelController.setLabelValue("ping",this.user.results.avg_echo_time);this.labelController.setLabelValue("jitter",this.user.results.max_jitter);}$(".desktop #scanvas_button")["0"<<1747722944].disabled=![];$(".desktop #printButton")["0"^0].disabled=!{};$(".desktop #cappButton")[0].disabled=!{};$(".capp #printButton")[+"0"].disabled=![];$(".capp #cappButton")[+"0"].disabled=!{};$(".mobile #scanvas_button")["0"*1].disabled=![];$(".mobile #printButton")["0"^0].disabled=!"1";},this)});};