var carouselStoper=!1;(function(n){var t="carousel",v="."+t,e="data-transition",y=t+"-transitioning",i=t+"-item",r=t+"-active",o=t+"-item-prev",s=t+"-item-next",u=t+"-in",f=t+"-out",h=t+"-nav",l,c=function(){for(var t="webkit Moz O Ms".split(" "),i=!1,n;t.length;)if(n=t.shift()+"Transition",n in document.documentElement.style!==undefined&&n in document.documentElement.style!=!1){i=!0;break}return i}(),a={_create:function(){n(this).trigger("beforecreate."+t)[t]("_init")[t]("_addNextPrev").trigger("create."+t)},_init:function(){var u=n(this).attr(e);u||(c=!1);n(this).addClass(t+" "+(u?t+"-"+u:"")+" ").children().addClass(i).first().addClass(r);n(this)[t]("_addNextPrevClasses")},_addNextPrevClasses:function(){var t=n(this).find("."+i),e=t.filter("."+r),u=e.next("."+i),f=e.prev("."+i);t.length>1&&(u.length||(u=t.first().not("."+r)),f.length||(f=t.last().not("."+r)),t.removeClass(o+" "+s),f.addClass(o),u.addClass(s))},next:function(){n(this)[t]("goTo","+1")},prev:function(){n(this)[t]("goTo","-1")},goTo:function(o){if(carouselStoper===!1){carouselStoper=!0;var h=n(this),d=h.attr(e),p=" "+t+"-"+d+"-reverse";n(this).find("."+i).removeClass([f,u,p].join(" "));var l=n(this).find("."+r),w=l.index(),a=(w<0?0:w)+1,v=typeof o=="number"?o:a+parseFloat(o),b=v-1,g=n(this).find("."+i),k=n.Event("beforegoto."+t),s=g.eq(b),y=typeof o=="string"&&!parseFloat(o)||v>a?"":p;if(h.trigger(k,{$from:l,$to:s,direction:v>a?"forward":"backward"}),k.isDefaultPrevented())return;s.length||(s=n(this).find("."+i)[y.length?"last":"first"]());c?h[t]("_transitionStart",l,s,y):(s.addClass(r),h[t]("_transitionEnd",l,s,y));h.trigger("goto."+t,[s,b]);carouselStoper=!1}},update:function(){return n(this).children().not("."+h).addClass(i),n(this).trigger("update."+t)},_transitionStart:function(i,r,e){var o=n(this);r.one(navigator.userAgent.indexOf("AppleWebKit")>-1?"webkitTransitionEnd":"transitionend otransitionend",function(){o[t]("_transitionEnd",i,r,e)});n(this).addClass(e);i.addClass(f);r.addClass(u)},_transitionEnd:function(i,e,o){n(this).removeClass(o);i.removeClass(f+" "+r);e.removeClass(u).addClass(r);n(this)[t]("_addNextPrevClasses")},_bindEventListeners:function(){var i=n(this).bind("click",function(r){var u=n(r.target).closest("a[href='#next'],a[href='#prev']");u.length&&(i[t](u.is("[href='#next']")?"next":"prev"),r.preventDefault())});return this},_addNextPrev:function(){var i,r=n(this);return r.find(".carousel-item").length>1&&n("."+t).append("<a href='#prev' class='prev' aria-hidden='true' title='Previous'><div class='arrow arrow--left'><\/div><\/a><a href='#next' class='next' aria-hidden='true' title='Next'><div class='arrow arrow--right'><\/div><\/a>"),i=n("<nav class='"+h+"'><\/nav>"),r.trigger("beforecreatenav."+t,{$nav:i}),r.append(i)[t]("_bindEventListeners")},destroy:function(){}};n.fn[t]=function(i,r,u,f){return this.each(function(){if(i&&typeof i=="string")return n.fn[t].prototype[i].call(this,r,u,f);if(n(this).data(t+"data"))return n(this);n(this).data(t+"active",!0);n.fn[t].prototype._create.call(this)})};l=n.extend(n.fn[t].prototype,a)})(jQuery);